---
sidebar_position: 2
---

# トラブルシューティング

問題が発生した際の診断と解決方法をまとめています。

## 動作しない場合のチェックリスト

問題が発生した際は、以下の順序で確認してください：

### 1. 環境の確認

- [ ] Unity のバージョンは 2022.3.6f1 以上か
- [ ] VRChat SDK3 - Worlds がインストールされているか
- [ ] UdonSharp がインストールされているか
- [ ] Console にエラーが表示されていないか

### 2. プレハブの設定確認

- [ ] 制御対象（Target Light など）が設定されているか
- [ ] 制御対象のコンポーネントが有効になっているか
- [ ] プレハブが正しく配置されているか

### 3. VRChat での動作確認

- [ ] ワールドをビルドしてアップロードしたか
- [ ] アップロード時にエラーが出なかったか
- [ ] VRChat クライアントで実際に動作を確認したか

## 具体的な問題と解決方法

### スイッチがクリックできない

**症状**: スイッチをクリックしても何も起こらない

**原因と解決方法**:

1. **Collider が設定されていない**
   - 解決方法: スイッチの UI パーツに Box Collider などを追加

2. **レイヤーが適切でない**
   - 解決方法: UI パーツのレイヤーを Default または UI に設定

3. **他のオブジェクトに遮られている**
   - 解決方法: スイッチの前に他のコライダーがないか確認

### ライトが点灯しない

**症状**: Switch_Light を使用してもライトが点灯しない

**原因と解決方法**:

1. **Target Light が設定されていない**
   - 解決方法: Inspector で Light コンポーネントを設定

2. **Light コンポーネントが無効**
   - 解決方法: Light コンポーネントが有効になっているか確認

3. **ライトの設定が適切でない**
   - 解決方法: Intensity、Range などの値を確認

### オーディオが再生されない

**症状**: Switch_Audio を使用しても音が鳴らない

**原因と解決方法**:

1. **Audio Source が設定されていない**
   - 解決方法: Inspector で Audio Source を設定

2. **Audio Clip が設定されていない**
   - 解決方法: Audio Source に Audio Clip を設定

3. **Volume が 0 になっている**
   - 解決方法: Audio Source の Volume を確認

4. **Play On Awake が有効**
   - 解決方法: Play On Awake を無効にする

### 同期が機能しない

**症状**: 他のプレイヤーと状態が同期されない

**原因と解決方法**:

1. **Sync が false に設定されている**
   - 解決方法: Inspector で Sync を true に変更

2. **ワールドがビルドされていない**
   - 解決方法: 変更後に必ずワールドをビルド＆アップロード

3. **Udon の同期エラー**
   - 解決方法: Console のエラーログを確認

### Quest で動作しない

**症状**: Quest ではコンポーネントが機能しない

**原因と解決方法**:

1. **Quest 非対応の機能を使用している**
   - 解決方法: Mirror など Quest 非対応の機能は使用しない

2. **Quest ビルドが適切でない**
   - 解決方法: Android プラットフォームでビルドを確認

3. **リアルタイムライトが多すぎる**
   - 解決方法: ベイクドライトに変更するか、数を減らす

## パフォーマンス問題

### フレームレートが低下する

**症状**: LuraSwitch2 使用後にFPSが低下

**原因と解決方法**:

1. **リアルタイムライトが多すぎる**
   - 解決方法: ライトをベイクするか、数を減らす

2. **ミラーを多用している**
   - 解決方法: ミラーの数と解像度を減らす

3. **大量のオブジェクトを同時制御**
   - 解決方法: 制御するオブジェクトの数を減らす

### VRAM 使用量が多い

**症状**: VRAM 使用量の警告が表示される

**原因と解決方法**:

1. **ミラーの解像度が高すぎる**
   - 解決方法: ミラーの解像度を下げる

2. **テクスチャが大きすぎる**
   - 解決方法: テクスチャを圧縮または縮小

## エラーメッセージ別の対処法

### "UdonSharp Compiler Error"

**原因**: UdonSharp のコンパイルエラー

**解決方法**:
1. Console の詳細なエラーメッセージを確認
2. スクリプトに構文エラーがないか確認
3. UdonSharp を最新版に更新

### "Missing Reference"

**原因**: 参照が欠落している

**解決方法**:
1. Inspector で赤くなっている項目を確認
2. 必要なコンポーネントを再設定
3. プレハブをシーンに再配置

### "Build Failed"

**原因**: ワールドのビルドに失敗

**解決方法**:
1. Console のエラーを確認
2. VRChat SDK のキャッシュをクリア
3. Unity を再起動

## それでも解決しない場合

以下の情報を添えてサポートに連絡してください：

- Unity のバージョン
- VRChat SDK のバージョン
- UdonSharp のバージョン
- 発生している問題の詳細
- Console に表示されるエラーメッセージ
- 再現手順

**連絡先**:
- X (Twitter): [@LuraThunder](https://x.com/LuraThunder)
- BOOTH の問い合わせフォーム
